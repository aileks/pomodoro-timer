# Plan: Debug blank screen (tmux + non-tmux)

## Goals
- Restore visible TUI in tmux and normal terminals
- Identify root cause; keep fixes minimal and safe

## Likely causes
- `lipgloss.Place` called with height/width swapped
- `WindowSizeMsg` not populating width/height before first render
- View returning whitespace only (content trimmed/placed out of bounds)
- Alt-screen interaction hiding output

## Approach
1. Add temporary debug logging (guarded by env)
   - Use `tea.LogToFile` or a `DEBUG=1` helper to log:
     - `width/height` on `WindowSizeMsg`
     - view output length + first line length
   - Files: `cmd/pomodoro/main.go`, `cmd/pomodoro/update.go`, `cmd/pomodoro/view.go`.
2. Isolate layout
   - Add a `DEBUG_NO_PLACE=1` path to return raw `content` (no centering).
   - If content appears, root cause is `Place` usage.
3. Fix centering
   - Swap `lipgloss.Place` args to `Place(m.width, m.height, ...)`.
   - Keep fallback `return content` when width/height zero.
4. Alt-screen fallback
   - Add env toggle `NO_ALT_SCREEN=1` to skip alt screen.
   - If that fixes it, keep toggle; otherwise leave default alt screen.
5. Verify renderer output
   - If logs show empty content, log renderer output length and scale to ensure digits render.

## Files to change
- `cmd/pomodoro/main.go`
- `cmd/pomodoro/model.go`
- `cmd/pomodoro/update.go`
- `cmd/pomodoro/view.go`

## Verification
- `go run ./cmd/pomodoro` (outside tmux): content visible
- `tmux new-session` -> `go run ./cmd/pomodoro`: content visible
- If needed: `DEBUG=1` logs show non-empty view output
